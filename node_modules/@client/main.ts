import Button from "./components/Button";
import ready from "./ready";

ready(() => {
	let socket = new WebSocket("ws://" + window.location.host);

	socket.onopen = (event) => {
		console.log("Socket connected!");
		socket.send("Hello!");
	};

	socket.onmessage = (event) => {
		console.log("Got message:", event.data);
	};

	let but = new Button("Hello");
	document.body.appendChild(but.element);

	but.onClick(() => {
		socket.send("Button was clicked!");
	});
});