import view from "./view";

export default class Button {
	element: HTMLElement;
	text: string;

	protected clickListeners: Function[] = [];

	constructor(text?: string) {
		this.text = text;

		let element = this.element = document.createElement("lpg-button");
		
		this.$root();
		this.$reify();
	}

	$reify() {
		this.$render();
		this.$hydrate();
	}

	protected $root() {
		this.element.setAttribute("role", "button");
		this.element.addEventListener("click", () => {
			this.clickListeners.forEach(f => f());
		});
	}

	protected $render() {
		this.element.innerHTML = view(this);
	}

	protected $hydrate() {
	}

	onClick(callback: Function) {
		this.clickListeners.push(callback);
	}
}