import view from "./view";

export default class Button {
	element: HTMLElement;
	text: string;

	protected clickListeners: Function[] = [];

	constructor(text?: string) {
		this.text = text;

		let element = this.element = document.createElement("lpg-button");
		element.setAttribute("role", "button");

		this.$render();
		this.$hydrate();
	}

	$render() {
		this.element.innerHTML = view(this);
	}

	$hydrate() {
		this.element.addEventListener("click", () => {
			this.clickListeners.forEach(f => f());
		});
	}

	onClick(callback: Function) {
		this.clickListeners.push(callback);
	}
}